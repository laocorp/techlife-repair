Initializing deployment
Cloning Repo github.com/laocorp/techlife-repair.git to /etc/dokploy/applications/techliferepair-repairapp-5z3xud/code: ‚úÖ
Cloning into '/etc/dokploy/applications/techliferepair-repairapp-5z3xud/code'...
remote: Enumerating objects: 100, done.
remote: Counting objects:   1% (1/100)        
remote: Counting objects:   2% (2/100)        
remote: Counting objects:   3% (3/100)        
remote: Counting objects:   4% (4/100)        
remote: Counting objects:   5% (5/100)        
remote: Counting objects:   6% (6/100)        
remote: Counting objects:   7% (7/100)        
remote: Counting objects:   8% (8/100)        
remote: Counting objects:   9% (9/100)        
remote: Counting objects:  10% (10/100)        
remote: Counting objects:  11% (11/100)        
remote: Counting objects:  12% (12/100)        
remote: Counting objects:  13% (13/100)        
remote: Counting objects:  14% (14/100)        
remote: Counting objects:  15% (15/100)        
remote: Counting objects:  16% (16/100)        
remote: Counting objects:  17% (17/100)        
remote: Counting objects:  18% (18/100)        
remote: Counting objects:  19% (19/100)        
remote: Counting objects:  20% (20/100)        
remote: Counting objects:  21% (21/100)        
remote: Counting objects:  22% (22/100)        
remote: Counting objects:  23% (23/100)        
remote: Counting objects:  24% (24/100)        
remote: Counting objects:  25% (25/100)        
remote: Counting objects:  26% (26/100)        
remote: Counting objects:  27% (27/100)        
remote: Counting objects:  28% (28/100)        
remote: Counting objects:  29% (29/100)        
remote: Counting objects:  30% (30/100)        
remote: Counting objects:  31% (31/100)        
remote: Counting objects:  32% (32/100)        
remote: Counting objects:  33% (33/100)        
remote: Counting objects:  34% (34/100)        
remote: Counting objects:  35% (35/100)        
remote: Counting objects:  36% (36/100)        
remote: Counting objects:  37% (37/100)        
remote: Counting objects:  38% (38/100)        
remote: Counting objects:  39% (39/100)        
remote: Counting objects:  40% (40/100)        
remote: Counting objects:  41% (41/100)        
remote: Counting objects:  42% (42/100)        
remote: Counting objects:  43% (43/100)        
remote: Counting objects:  44% (44/100)        
remote: Counting objects:  45% (45/100)        
remote: Counting objects:  46% (46/100)        
remote: Counting objects:  47% (47/100)        
remote: Counting objects:  48% (48/100)        
remote: Counting objects:  49% (49/100)        
remote: Counting objects:  50% (50/100)        
remote: Counting objects:  51% (51/100)        
remote: Counting objects:  52% (52/100)        
remote: Counting objects:  53% (53/100)        
remote: Counting objects:  54% (54/100)        
remote: Counting objects:  55% (55/100)        
remote: Counting objects:  56% (56/100)        
remote: Counting objects:  57% (57/100)        
remote: Counting objects:  58% (58/100)        
remote: Counting objects:  59% (59/100)        
remote: Counting objects:  60% (60/100)        
remote: Counting objects:  61% (61/100)        
remote: Counting objects:  62% (62/100)        
remote: Counting objects:  63% (63/100)        
remote: Counting objects:  64% (64/100)        
remote: Counting objects:  65% (65/100)        
remote: Counting objects:  66% (66/100)        
remote: Counting objects:  67% (67/100)        
remote: Counting objects:  68% (68/100)        
remote: Counting objects:  69% (69/100)        
remote: Counting objects:  70% (70/100)        
remote: Counting objects:  71% (71/100)        
remote: Counting objects:  72% (72/100)        
remote: Counting objects:  73% (73/100)        
remote: Counting objects:  74% (74/100)        
remote: Counting objects:  75% (75/100)        
remote: Counting objects:  76% (76/100)        
remote: Counting objects:  77% (77/100)        
remote: Counting objects:  78% (78/100)        
remote: Counting objects:  79% (79/100)        
remote: Counting objects:  80% (80/100)        
remote: Counting objects:  81% (81/100)        
remote: Counting objects:  82% (82/100)        
remote: Counting objects:  83% (83/100)        
remote: Counting objects:  84% (84/100)        
remote: Counting objects:  85% (85/100)        
remote: Counting objects:  86% (86/100)        
remote: Counting objects:  87% (87/100)        
remote: Counting objects:  88% (88/100)        
remote: Counting objects:  89% (89/100)        
remote: Counting objects:  90% (90/100)        
remote: Counting objects:  91% (91/100)        
remote: Counting objects:  92% (92/100)        
remote: Counting objects:  93% (93/100)        
remote: Counting objects:  94% (94/100)        
remote: Counting objects:  95% (95/100)        
remote: Counting objects:  96% (96/100)        
remote: Counting objects:  97% (97/100)        
remote: Counting objects:  98% (98/100)        
remote: Counting objects:  99% (99/100)        
remote: Counting objects: 100% (100/100)        
remote: Counting objects: 100% (100/100), done.
remote: Compressing objects:   1% (1/79)        
remote: Compressing objects:   2% (2/79)        
remote: Compressing objects:   3% (3/79)        
remote: Compressing objects:   5% (4/79)        
remote: Compressing objects:   6% (5/79)        
remote: Compressing objects:   7% (6/79)        
remote: Compressing objects:   8% (7/79)        
remote: Compressing objects:  10% (8/79)        
remote: Compressing objects:  11% (9/79)        
remote: Compressing objects:  12% (10/79)        
remote: Compressing objects:  13% (11/79)        
remote: Compressing objects:  15% (12/79)        
remote: Compressing objects:  16% (13/79)        
remote: Compressing objects:  17% (14/79)        
remote: Compressing objects:  18% (15/79)        
remote: Compressing objects:  20% (16/79)        
remote: Compressing objects:  21% (17/79)        
remote: Compressing objects:  22% (18/79)        
remote: Compressing objects:  24% (19/79)        
remote: Compressing objects:  25% (20/79)        
remote: Compressing objects:  26% (21/79)        
remote: Compressing objects:  27% (22/79)        
remote: Compressing objects:  29% (23/79)        
remote: Compressing objects:  30% (24/79)        
remote: Compressing objects:  31% (25/79)        
remote: Compressing objects:  32% (26/79)        
remote: Compressing objects:  34% (27/79)        
remote: Compressing objects:  35% (28/79)        
remote: Compressing objects:  36% (29/79)        
remote: Compressing objects:  37% (30/79)        
remote: Compressing objects:  39% (31/79)        
remote: Compressing objects:  40% (32/79)        
remote: Compressing objects:  41% (33/79)        
remote: Compressing objects:  43% (34/79)        
remote: Compressing objects:  44% (35/79)        
remote: Compressing objects:  45% (36/79)        
remote: Compressing objects:  46% (37/79)        
remote: Compressing objects:  48% (38/79)        
remote: Compressing objects:  49% (39/79)        
remote: Compressing objects:  50% (40/79)        
remote: Compressing objects:  51% (41/79)        
remote: Compressing objects:  53% (42/79)        
remote: Compressing objects:  54% (43/79)        
remote: Compressing objects:  55% (44/79)        
remote: Compressing objects:  56% (45/79)        
remote: Compressing objects:  58% (46/79)        
remote: Compressing objects:  59% (47/79)        
remote: Compressing objects:  60% (48/79)        
remote: Compressing objects:  62% (49/79)        
remote: Compressing objects:  63% (50/79)        
remote: Compressing objects:  64% (51/79)        
remote: Compressing objects:  65% (52/79)        
remote: Compressing objects:  67% (53/79)        
remote: Compressing objects:  68% (54/79)        
remote: Compressing objects:  69% (55/79)        
remote: Compressing objects:  70% (56/79)        
remote: Compressing objects:  72% (57/79)        
remote: Compressing objects:  73% (58/79)        
remote: Compressing objects:  74% (59/79)        
remote: Compressing objects:  75% (60/79)        
remote: Compressing objects:  77% (61/79)        
remote: Compressing objects:  78% (62/79)        
remote: Compressing objects:  79% (63/79)        
remote: Compressing objects:  81% (64/79)        
remote: Compressing objects:  82% (65/79)        
remote: Compressing objects:  83% (66/79)        
remote: Compressing objects:  84% (67/79)        
remote: Compressing objects:  86% (68/79)        
remote: Compressing objects:  87% (69/79)        
remote: Compressing objects:  88% (70/79)        
remote: Compressing objects:  89% (71/79)        
remote: Compressing objects:  91% (72/79)        
remote: Compressing objects:  92% (73/79)        
remote: Compressing objects:  93% (74/79)        
remote: Compressing objects:  94% (75/79)        
remote: Compressing objects:  96% (76/79)        
remote: Compressing objects:  97% (77/79)        
remote: Compressing objects:  98% (78/79)        
remote: Compressing objects: 100% (79/79)        
remote: Compressing objects: 100% (79/79), done.
Receiving objects:   1% (1/100)
Receiving objects:   2% (2/100)
Receiving objects:   3% (3/100)
Receiving objects:   4% (4/100)
Receiving objects:   5% (5/100)
Receiving objects:   6% (6/100)
Receiving objects:   7% (7/100)
Receiving objects:   8% (8/100)
Receiving objects:   9% (9/100)
Receiving objects:  10% (10/100)
Receiving objects:  11% (11/100)
Receiving objects:  12% (12/100)
Receiving objects:  13% (13/100)
Receiving objects:  14% (14/100)
Receiving objects:  15% (15/100)
Receiving objects:  16% (16/100)
Receiving objects:  17% (17/100)
Receiving objects:  18% (18/100)
Receiving objects:  19% (19/100)
Receiving objects:  20% (20/100)
Receiving objects:  21% (21/100)
Receiving objects:  22% (22/100)
Receiving objects:  23% (23/100)
Receiving objects:  24% (24/100)
Receiving objects:  25% (25/100)
Receiving objects:  26% (26/100)
remote: Total 100 (delta 12), reused 91 (delta 12), pack-reused 0 (from 0)
Receiving objects:  27% (27/100)
Receiving objects:  28% (28/100)
Receiving objects:  29% (29/100)
Receiving objects:  30% (30/100)
Receiving objects:  31% (31/100)
Receiving objects:  32% (32/100)
Receiving objects:  33% (33/100)
Receiving objects:  34% (34/100)
Receiving objects:  35% (35/100)
Receiving objects:  36% (36/100)
Receiving objects:  37% (37/100)
Receiving objects:  38% (38/100)
Receiving objects:  39% (39/100)
Receiving objects:  40% (40/100)
Receiving objects:  41% (41/100)
Receiving objects:  42% (42/100)
Receiving objects:  43% (43/100)
Receiving objects:  44% (44/100)
Receiving objects:  45% (45/100)
Receiving objects:  46% (46/100)
Receiving objects:  47% (47/100)
Receiving objects:  48% (48/100)
Receiving objects:  49% (49/100)
Receiving objects:  50% (50/100)
Receiving objects:  51% (51/100)
Receiving objects:  52% (52/100)
Receiving objects:  53% (53/100)
Receiving objects:  54% (54/100)
Receiving objects:  55% (55/100)
Receiving objects:  56% (56/100)
Receiving objects:  57% (57/100)
Receiving objects:  58% (58/100)
Receiving objects:  59% (59/100)
Receiving objects:  60% (60/100)
Receiving objects:  61% (61/100)
Receiving objects:  62% (62/100)
Receiving objects:  63% (63/100)
Receiving objects:  64% (64/100)
Receiving objects:  65% (65/100)
Receiving objects:  66% (66/100)
Receiving objects:  67% (67/100)
Receiving objects:  68% (68/100)
Receiving objects:  69% (69/100)
Receiving objects:  70% (70/100)
Receiving objects:  71% (71/100)
Receiving objects:  72% (72/100)
Receiving objects:  73% (73/100)
Receiving objects:  74% (74/100)
Receiving objects:  75% (75/100)
Receiving objects:  76% (76/100)
Receiving objects:  77% (77/100)
Receiving objects:  78% (78/100)
Receiving objects:  79% (79/100)
Receiving objects:  80% (80/100)
Receiving objects:  81% (81/100)
Receiving objects:  82% (82/100)
Receiving objects:  83% (83/100)
Receiving objects:  84% (84/100)
Receiving objects:  85% (85/100)
Receiving objects:  86% (86/100)
Receiving objects:  87% (87/100)
Receiving objects:  88% (88/100)
Receiving objects:  89% (89/100)
Receiving objects:  90% (90/100)
Receiving objects:  91% (91/100)
Receiving objects:  92% (92/100)
Receiving objects:  93% (93/100)
Receiving objects:  94% (94/100)
Receiving objects:  95% (95/100)
Receiving objects:  96% (96/100)
Receiving objects:  97% (97/100)
Receiving objects:  98% (98/100)
Receiving objects:  99% (99/100)
Receiving objects: 100% (100/100)
Receiving objects: 100% (100/100), 125.73 KiB | 11.43 MiB/s, done.
Resolving deltas:   0% (0/12)
Resolving deltas:   8% (1/12)
Resolving deltas:  16% (2/12)
Resolving deltas:  25% (3/12)
Resolving deltas:  33% (4/12)
Resolving deltas:  41% (5/12)
Resolving deltas:  50% (6/12)
Resolving deltas:  58% (7/12)
Resolving deltas:  66% (8/12)
Resolving deltas:  75% (9/12)
Resolving deltas:  83% (10/12)
Resolving deltas:  91% (11/12)
Resolving deltas: 100% (12/12)
Resolving deltas: 100% (12/12), done.
Starting nixpacks build...
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Nixpacks v1.39.0 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë setup      ‚îÇ nodejs_20, npm ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë install    ‚îÇ npm ci         ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë build      ‚îÇ npm run build  ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë start      ‚îÇ npm run start  ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
#0 building with "default" instance using docker driver
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.00kB done
#1 DONE 0.0s
#2 [internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1745885067
#2 DONE 0.3s
#3 [internal] load .dockerignore
#3 transferring context: 330B done
#3 DONE 0.0s
#4 [ 1/10] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1745885067@sha256:d45c89d80e13d7ad0fd555b5130f22a866d9dd10e861f589932303ef2314c7de
#4 DONE 0.0s
#5 [ 2/10] WORKDIR /app/
#5 CACHED
#6 [internal] load build context
#6 transferring context: 557.27kB 0.0s done
#6 DONE 0.0s
#7 [ 3/10] COPY .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix
#7 DONE 0.0s
#8 [ 4/10] RUN nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d
#8 0.433 unpacking 'https://github.com/NixOS/nixpkgs/archive/ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.tar.gz' into the Git cache...
#8 61.43 unpacking 'https://github.com/railwayapp/nix-npm-overlay/archive/main.tar.gz' into the Git cache...
#8 62.74 installing 'ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7-env'
#8 64.12 error:
#8 64.12        ‚Ä¶ while calling the 'derivationStrict' builtin
#8 64.12          at <nix/derivation-internal.nix>:37:12:
#8 64.12            36|
#8 64.12            37|   strict = derivationStrict drvAttrs;
#8 64.12              |            ^
#8 64.12            38|
#8 64.12
#8 64.12        ‚Ä¶ while evaluating derivation 'ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7-env'
#8 64.12          whose name attribute is located at /nix/store/lwi59jcfwk2lnrakmm1y5vw85hj3n1bi-source/pkgs/stdenv/generic/make-derivation.nix:375:7
#8 64.12
#8 64.12        ‚Ä¶ while evaluating attribute 'passAsFile' of derivation 'ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7-env'
#8 64.12          at /nix/store/lwi59jcfwk2lnrakmm1y5vw85hj3n1bi-source/pkgs/build-support/trivial-builders/default.nix:60:9:
#8 64.12            59|         inherit buildCommand name;
#8 64.12            60|         passAsFile = [ "buildCommand" ]
#8 64.12              |         ^
#8 64.12            61|           ++ (derivationArgs.passAsFile or [ ]);
#8 64.12
#8 64.12        (stack trace truncated; use '--show-trace' to show the full, detailed trace)
#8 64.12
#8 64.12        error: undefined variable 'npm'
#8 64.12        at /app/.nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix:19:19:
#8 64.12            18|         '')
#8 64.12            19|         nodejs_20 npm
#8 64.12              |                   ^
#8 64.12            20|       ];
#8 ERROR: process "/bin/bash -ol pipefail -c nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d" did not complete successfully: exit code: 1
------
> [ 4/10] RUN nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d:
64.12            61|           ++ (derivationArgs.passAsFile or [ ]);
64.12
64.12        (stack trace truncated; use '--show-trace' to show the full, detailed trace)
64.12
64.12        error: undefined variable 'npm'
64.12        at /app/.nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix:19:19:
64.12            18|         '')
64.12            19|         nodejs_20 npm
64.12              |                   ^
64.12            20|       ];
------
[33m1 warning found (use docker --debug to expand):
[0m - UndefinedVar: Usage of undefined variable '$NIXPACKS_PATH' (line 18)
Dockerfile:8
--------------------
|
|     COPY .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix
| >>> RUN nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d
|
|
--------------------
ERROR: failed to build: failed to solve: process "/bin/bash -ol pipefail -c nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d" did not complete successfully: exit code: 1
Error: Docker build failed
‚ùå Nixpacks build failed
Error occurred ‚ùå, check the logs for details.