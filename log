Initializing deployment
Cloning Repo github.com/laocorp/techlife-repair.git to /etc/dokploy/applications/techliferepair-repairapp-5z3xud/code: ‚úÖ
Cloning into '/etc/dokploy/applications/techliferepair-repairapp-5z3xud/code'...
remote: Enumerating objects: 267, done.
remote: Counting objects:   0% (1/267)        
remote: Counting objects:   1% (3/267)        
remote: Counting objects:   2% (6/267)        
remote: Counting objects:   3% (9/267)        
remote: Counting objects:   4% (11/267)        
remote: Counting objects:   5% (14/267)        
remote: Counting objects:   6% (17/267)        
remote: Counting objects:   7% (19/267)        
remote: Counting objects:   8% (22/267)        
remote: Counting objects:   9% (25/267)        
remote: Counting objects:  10% (27/267)        
remote: Counting objects:  11% (30/267)        
remote: Counting objects:  12% (33/267)        
remote: Counting objects:  13% (35/267)        
remote: Counting objects:  14% (38/267)        
remote: Counting objects:  15% (41/267)        
remote: Counting objects:  16% (43/267)        
remote: Counting objects:  17% (46/267)        
remote: Counting objects:  18% (49/267)        
remote: Counting objects:  19% (51/267)        
remote: Counting objects:  20% (54/267)        
remote: Counting objects:  21% (57/267)        
remote: Counting objects:  22% (59/267)        
remote: Counting objects:  23% (62/267)        
remote: Counting objects:  24% (65/267)        
remote: Counting objects:  25% (67/267)        
remote: Counting objects:  26% (70/267)        
remote: Counting objects:  27% (73/267)        
remote: Counting objects:  28% (75/267)        
remote: Counting objects:  29% (78/267)        
remote: Counting objects:  30% (81/267)        
remote: Counting objects:  31% (83/267)        
remote: Counting objects:  32% (86/267)        
remote: Counting objects:  33% (89/267)        
remote: Counting objects:  34% (91/267)        
remote: Counting objects:  35% (94/267)        
remote: Counting objects:  36% (97/267)        
remote: Counting objects:  37% (99/267)        
remote: Counting objects:  38% (102/267)        
remote: Counting objects:  39% (105/267)        
remote: Counting objects:  40% (107/267)        
remote: Counting objects:  41% (110/267)        
remote: Counting objects:  42% (113/267)        
remote: Counting objects:  43% (115/267)        
remote: Counting objects:  44% (118/267)        
remote: Counting objects:  45% (121/267)        
remote: Counting objects:  46% (123/267)        
remote: Counting objects:  47% (126/267)        
remote: Counting objects:  48% (129/267)        
remote: Counting objects:  49% (131/267)        
remote: Counting objects:  50% (134/267)        
remote: Counting objects:  51% (137/267)        
remote: Counting objects:  52% (139/267)        
remote: Counting objects:  53% (142/267)        
remote: Counting objects:  54% (145/267)        
remote: Counting objects:  55% (147/267)        
remote: Counting objects:  56% (150/267)        
remote: Counting objects:  57% (153/267)        
remote: Counting objects:  58% (155/267)        
remote: Counting objects:  59% (158/267)        
remote: Counting objects:  60% (161/267)        
remote: Counting objects:  61% (163/267)        
remote: Counting objects:  62% (166/267)        
remote: Counting objects:  63% (169/267)        
remote: Counting objects:  64% (171/267)        
remote: Counting objects:  65% (174/267)        
remote: Counting objects:  66% (177/267)        
remote: Counting objects:  67% (179/267)        
remote: Counting objects:  68% (182/267)        
remote: Counting objects:  69% (185/267)        
remote: Counting objects:  70% (187/267)        
remote: Counting objects:  71% (190/267)        
remote: Counting objects:  72% (193/267)        
remote: Counting objects:  73% (195/267)        
remote: Counting objects:  74% (198/267)        
remote: Counting objects:  75% (201/267)        
remote: Counting objects:  76% (203/267)        
remote: Counting objects:  77% (206/267)        
remote: Counting objects:  78% (209/267)        
remote: Counting objects:  79% (211/267)        
remote: Counting objects:  80% (214/267)        
remote: Counting objects:  81% (217/267)        
remote: Counting objects:  82% (219/267)        
remote: Counting objects:  83% (222/267)        
remote: Counting objects:  84% (225/267)        
remote: Counting objects:  85% (227/267)        
remote: Counting objects:  86% (230/267)        
remote: Counting objects:  87% (233/267)        
remote: Counting objects:  88% (235/267)        
remote: Counting objects:  89% (238/267)        
remote: Counting objects:  90% (241/267)        
remote: Counting objects:  91% (243/267)        
remote: Counting objects:  92% (246/267)        
remote: Counting objects:  93% (249/267)        
remote: Counting objects:  94% (251/267)        
remote: Counting objects:  95% (254/267)        
remote: Counting objects:  96% (257/267)        
remote: Counting objects:  97% (259/267)        
remote: Counting objects:  98% (262/267)        
remote: Counting objects:  99% (265/267)        
remote: Counting objects: 100% (267/267)        
remote: Counting objects: 100% (267/267), done.
remote: Compressing objects:   0% (1/191)        
remote: Compressing objects:   1% (2/191)        
remote: Compressing objects:   2% (4/191)        
remote: Compressing objects:   3% (6/191)        
remote: Compressing objects:   4% (8/191)        
remote: Compressing objects:   5% (10/191)        
remote: Compressing objects:   6% (12/191)        
remote: Compressing objects:   7% (14/191)        
remote: Compressing objects:   8% (16/191)        
remote: Compressing objects:   9% (18/191)        
remote: Compressing objects:  10% (20/191)        
remote: Compressing objects:  11% (22/191)        
remote: Compressing objects:  12% (23/191)        
remote: Compressing objects:  13% (25/191)        
remote: Compressing objects:  14% (27/191)        
remote: Compressing objects:  15% (29/191)        
remote: Compressing objects:  16% (31/191)        
remote: Compressing objects:  17% (33/191)        
remote: Compressing objects:  18% (35/191)        
remote: Compressing objects:  19% (37/191)        
remote: Compressing objects:  20% (39/191)        
remote: Compressing objects:  21% (41/191)        
remote: Compressing objects:  22% (43/191)        
remote: Compressing objects:  23% (44/191)        
remote: Compressing objects:  24% (46/191)        
remote: Compressing objects:  25% (48/191)        
remote: Compressing objects:  26% (50/191)        
remote: Compressing objects:  27% (52/191)        
remote: Compressing objects:  28% (54/191)        
remote: Compressing objects:  29% (56/191)        
remote: Compressing objects:  30% (58/191)        
remote: Compressing objects:  31% (60/191)        
remote: Compressing objects:  32% (62/191)        
remote: Compressing objects:  33% (64/191)        
remote: Compressing objects:  34% (65/191)        
remote: Compressing objects:  35% (67/191)        
remote: Compressing objects:  36% (69/191)        
remote: Compressing objects:  37% (71/191)        
remote: Compressing objects:  38% (73/191)        
remote: Compressing objects:  39% (75/191)        
remote: Compressing objects:  40% (77/191)        
remote: Compressing objects:  41% (79/191)        
remote: Compressing objects:  42% (81/191)        
remote: Compressing objects:  43% (83/191)        
remote: Compressing objects:  44% (85/191)        
remote: Compressing objects:  45% (86/191)        
remote: Compressing objects:  46% (88/191)        
remote: Compressing objects:  47% (90/191)        
remote: Compressing objects:  48% (92/191)        
remote: Compressing objects:  49% (94/191)        
remote: Compressing objects:  50% (96/191)        
remote: Compressing objects:  51% (98/191)        
remote: Compressing objects:  52% (100/191)        
remote: Compressing objects:  53% (102/191)        
remote: Compressing objects:  54% (104/191)        
remote: Compressing objects:  55% (106/191)        
remote: Compressing objects:  56% (107/191)        
remote: Compressing objects:  57% (109/191)        
remote: Compressing objects:  58% (111/191)        
remote: Compressing objects:  59% (113/191)        
remote: Compressing objects:  60% (115/191)        
remote: Compressing objects:  61% (117/191)        
remote: Compressing objects:  62% (119/191)        
remote: Compressing objects:  63% (121/191)        
remote: Compressing objects:  64% (123/191)        
remote: Compressing objects:  65% (125/191)        
remote: Compressing objects:  66% (127/191)        
remote: Compressing objects:  67% (128/191)        
remote: Compressing objects:  68% (130/191)        
remote: Compressing objects:  69% (132/191)        
remote: Compressing objects:  70% (134/191)        
remote: Compressing objects:  71% (136/191)        
remote: Compressing objects:  72% (138/191)        
remote: Compressing objects:  73% (140/191)        
remote: Compressing objects:  74% (142/191)        
remote: Compressing objects:  75% (144/191)        
remote: Compressing objects:  76% (146/191)        
remote: Compressing objects:  77% (148/191)        
remote: Compressing objects:  78% (149/191)        
remote: Compressing objects:  79% (151/191)        
remote: Compressing objects:  80% (153/191)        
remote: Compressing objects:  81% (155/191)        
remote: Compressing objects:  82% (157/191)        
remote: Compressing objects:  83% (159/191)        
remote: Compressing objects:  84% (161/191)        
remote: Compressing objects:  85% (163/191)        
remote: Compressing objects:  86% (165/191)        
remote: Compressing objects:  87% (167/191)        
remote: Compressing objects:  88% (169/191)        
remote: Compressing objects:  89% (170/191)        
remote: Compressing objects:  90% (172/191)        
remote: Compressing objects:  91% (174/191)        
remote: Compressing objects:  92% (176/191)        
remote: Compressing objects:  93% (178/191)        
remote: Compressing objects:  94% (180/191)        
remote: Compressing objects:  95% (182/191)        
remote: Compressing objects:  96% (184/191)        
remote: Compressing objects:  97% (186/191)        
remote: Compressing objects:  98% (188/191)        
remote: Compressing objects:  99% (190/191)        
remote: Compressing objects: 100% (191/191)        
remote: Compressing objects: 100% (191/191), done.
Receiving objects:   0% (1/267)
Receiving objects:   1% (3/267)
Receiving objects:   2% (6/267)
Receiving objects:   3% (9/267)
Receiving objects:   4% (11/267)
Receiving objects:   5% (14/267)
Receiving objects:   6% (17/267)
Receiving objects:   7% (19/267)
Receiving objects:   8% (22/267)
Receiving objects:   9% (25/267)
Receiving objects:  10% (27/267)
Receiving objects:  11% (30/267)
Receiving objects:  12% (33/267)
Receiving objects:  13% (35/267)
Receiving objects:  14% (38/267)
Receiving objects:  15% (41/267)
Receiving objects:  16% (43/267)
Receiving objects:  17% (46/267)
Receiving objects:  18% (49/267)
Receiving objects:  19% (51/267)
Receiving objects:  20% (54/267)
Receiving objects:  21% (57/267)
Receiving objects:  22% (59/267)
Receiving objects:  23% (62/267)
Receiving objects:  24% (65/267)
Receiving objects:  25% (67/267)
Receiving objects:  26% (70/267)
Receiving objects:  27% (73/267)
Receiving objects:  28% (75/267)
Receiving objects:  29% (78/267)
Receiving objects:  30% (81/267)
Receiving objects:  31% (83/267)
Receiving objects:  32% (86/267)
Receiving objects:  33% (89/267)
Receiving objects:  34% (91/267)
Receiving objects:  35% (94/267)
Receiving objects:  36% (97/267)
Receiving objects:  37% (99/267)
Receiving objects:  38% (102/267)
Receiving objects:  39% (105/267)
Receiving objects:  40% (107/267)
Receiving objects:  41% (110/267)
Receiving objects:  42% (113/267)
Receiving objects:  43% (115/267)
Receiving objects:  44% (118/267)
Receiving objects:  45% (121/267)
Receiving objects:  46% (123/267)
Receiving objects:  47% (126/267)
Receiving objects:  48% (129/267)
Receiving objects:  49% (131/267)
Receiving objects:  50% (134/267)
Receiving objects:  51% (137/267)
Receiving objects:  52% (139/267)
Receiving objects:  53% (142/267)
Receiving objects:  54% (145/267)
Receiving objects:  55% (147/267)
Receiving objects:  56% (150/267)
Receiving objects:  57% (153/267)
Receiving objects:  58% (155/267)
Receiving objects:  59% (158/267)
Receiving objects:  60% (161/267)
Receiving objects:  61% (163/267)
Receiving objects:  62% (166/267)
Receiving objects:  63% (169/267)
Receiving objects:  64% (171/267)
Receiving objects:  65% (174/267)
Receiving objects:  66% (177/267)
Receiving objects:  67% (179/267)
Receiving objects:  68% (182/267)
Receiving objects:  69% (185/267)
Receiving objects:  70% (187/267)
remote: Total 267 (delta 48), reused 208 (delta 22), pack-reused 0 (from 0)
Receiving objects:  71% (190/267)
Receiving objects:  72% (193/267)
Receiving objects:  73% (195/267)
Receiving objects:  74% (198/267)
Receiving objects:  75% (201/267)
Receiving objects:  76% (203/267)
Receiving objects:  77% (206/267)
Receiving objects:  78% (209/267)
Receiving objects:  79% (211/267)
Receiving objects:  80% (214/267)
Receiving objects:  81% (217/267)
Receiving objects:  82% (219/267)
Receiving objects:  83% (222/267)
Receiving objects:  84% (225/267)
Receiving objects:  85% (227/267)
Receiving objects:  86% (230/267)
Receiving objects:  87% (233/267)
Receiving objects:  88% (235/267)
Receiving objects:  89% (238/267)
Receiving objects:  90% (241/267)
Receiving objects:  91% (243/267)
Receiving objects:  92% (246/267)
Receiving objects:  93% (249/267)
Receiving objects:  94% (251/267)
Receiving objects:  95% (254/267)
Receiving objects:  96% (257/267)
Receiving objects:  97% (259/267)
Receiving objects:  98% (262/267)
Receiving objects:  99% (265/267)
Receiving objects: 100% (267/267)
Receiving objects: 100% (267/267), 1.16 MiB | 18.20 MiB/s, done.
Resolving deltas:   0% (0/48)
Resolving deltas:   2% (1/48)
Resolving deltas:   4% (2/48)
Resolving deltas:   6% (3/48)
Resolving deltas:   8% (4/48)
Resolving deltas:  10% (5/48)
Resolving deltas:  12% (6/48)
Resolving deltas:  14% (7/48)
Resolving deltas:  16% (8/48)
Resolving deltas:  18% (9/48)
Resolving deltas:  20% (10/48)
Resolving deltas:  22% (11/48)
Resolving deltas:  25% (12/48)
Resolving deltas:  27% (13/48)
Resolving deltas:  29% (14/48)
Resolving deltas:  31% (15/48)
Resolving deltas:  33% (16/48)
Resolving deltas:  35% (17/48)
Resolving deltas:  37% (18/48)
Resolving deltas:  39% (19/48)
Resolving deltas:  45% (22/48)
Resolving deltas:  47% (23/48)
Resolving deltas:  54% (26/48)
Resolving deltas:  56% (27/48)
Resolving deltas:  58% (28/48)
Resolving deltas:  60% (29/48)
Resolving deltas:  62% (30/48)
Resolving deltas:  64% (31/48)
Resolving deltas:  66% (32/48)
Resolving deltas:  70% (34/48)
Resolving deltas:  72% (35/48)
Resolving deltas:  75% (36/48)
Resolving deltas:  77% (37/48)
Resolving deltas:  79% (38/48)
Resolving deltas:  81% (39/48)
Resolving deltas:  83% (40/48)
Resolving deltas:  85% (41/48)
Resolving deltas:  87% (42/48)
Resolving deltas:  89% (43/48)
Resolving deltas:  91% (44/48)
Resolving deltas:  93% (45/48)
Resolving deltas:  95% (46/48)
Resolving deltas:  97% (47/48)
Resolving deltas: 100% (48/48)
Resolving deltas: 100% (48/48), done.
Building techliferepair-repairapp-5z3xud
#0 building with "default" instance using docker driver
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 2.14kB done
#1 DONE 0.0s
#2 [internal] load metadata for docker.io/library/node:20-slim
#2 DONE 1.0s
#3 [internal] load .dockerignore
#3 transferring context: 451B done
#3 DONE 0.0s
#4 [builder  1/11] FROM docker.io/library/node:20-slim@sha256:1b38aaddff63cd0d3a9b5b03863a71fd33ee62047dd2e915f494d96b4b9c18cc
#4 DONE 0.0s
#5 [internal] load build context
#5 transferring context: 2.48MB 0.1s done
#5 DONE 0.1s
#6 [builder  2/11] WORKDIR /app
#6 CACHED
#7 [builder  4/11] COPY package*.json ./
#7 CACHED
#8 [builder  5/11] COPY prisma ./prisma/
#8 CACHED
#9 [builder  8/11] RUN npm install lightningcss-linux-x64-gnu --save-optional || true
#9 CACHED
#10 [builder  3/11] RUN apt-get update && apt-get install -y     openssl     python3     make     g++     && rm -rf /var/lib/apt/lists/*
#10 CACHED
#11 [builder  6/11] RUN rm -f package-lock.json
#11 CACHED
#12 [builder  7/11] RUN npm install --legacy-peer-deps
#12 CACHED
#13 [builder  9/11] RUN npx prisma generate
#13 CACHED
#14 [builder 10/11] COPY . .
#14 DONE 0.1s
#15 [builder 11/11] RUN npm run build
#15 0.626
#15 0.626 > repairappv2@0.1.0 build
#15 0.626 > next build
#15 0.626
#15 1.683 ‚ñ≤ Next.js 16.1.0 (Turbopack)
#15 1.683 - Experiments (use with caution):
#15 1.684   ¬∑ serverActions
#15 1.684
#15 1.689 ‚ö† The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
#15 1.759   Creating an optimized production build ...
#15 30.44 ‚úì Compiled successfully in 28.1s
#15 30.45   Running TypeScript ...
#15 47.46 Failed to compile.
#15 47.46
#15 47.46 ./src/app/api/usuarios/[id]/password/route.ts:28:21
#15 47.46 Type error: Object literal may only specify known properties, and 'password_hash' does not exist in type '(Without<UsuarioUpdateInput, UsuarioUncheckedUpdateInput> & UsuarioUncheckedUpdateInput) | (Without<...> & UsuarioUpdateInput)'.
#15 47.46
#15 47.46 [0m [90m 26 |[39m         [36mawait[39m prisma[33m.[39musuario[33m.[39mupdate({
#15 47.46  [90m 27 |[39m             where[33m:[39m { id }[33m,[39m
#15 47.46 [31m[1m>[22m[39m[90m 28 |[39m             data[33m:[39m { password_hash[33m:[39m hashedPassword }
#15 47.46  [90m    |[39m                     [31m[1m^[22m[39m
#15 47.46  [90m 29 |[39m         })
#15 47.46  [90m 30 |[39m
#15 47.46  [90m 31 |[39m         [36mreturn[39m [33mNextResponse[39m[33m.[39mjson({ success[33m:[39m [36mtrue[39m })[0m
#15 47.61 Next.js build worker exited with code: 1 and signal: null
#15 ERROR: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
------
> [builder 11/11] RUN npm run build:
47.46 Type error: Object literal may only specify known properties, and 'password_hash' does not exist in type '(Without<UsuarioUpdateInput, UsuarioUncheckedUpdateInput> & UsuarioUncheckedUpdateInput) | (Without<...> & UsuarioUpdateInput)'.
47.46
47.46 [0m [90m 26 |[39m         [36mawait[39m prisma[33m.[39musuario[33m.[39mupdate({
47.46  [90m 27 |[39m             where[33m:[39m { id }[33m,[39m
47.46 [31m[1m>[22m[39m[90m 28 |[39m             data[33m:[39m { password_hash[33m:[39m hashedPassword }
47.46  [90m    |[39m                     [31m[1m^[22m[39m
47.46  [90m 29 |[39m         })
47.46  [90m 30 |[39m
47.46  [90m 31 |[39m         [36mreturn[39m [33mNextResponse[39m[33m.[39mjson({ success[33m:[39m [36mtrue[39m })[0m
47.61 Next.js build worker exited with code: 1 and signal: null
------
[33m2 warnings found (use docker --debug to expand):
[0m - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "NEXTAUTH_SECRET") (line 18)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "NEXTAUTH_SECRET") (line 12)
Dockerfile:51
--------------------
|
|     # Build the Next.js app
| >>> RUN npm run build
|
|     # ---- Production stage ----
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
‚ùå Docker build failed
Error occurred ‚ùå, check the logs for details.