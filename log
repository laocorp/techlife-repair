Initializing deployment
Cloning Repo github.com/laocorp/techlife-repair.git to /etc/dokploy/applications/techliferepair-repairapp-5z3xud/code: ‚úÖ
Cloning into '/etc/dokploy/applications/techliferepair-repairapp-5z3xud/code'...
remote: Enumerating objects: 264, done.
remote: Counting objects:   0% (1/264)        
remote: Counting objects:   1% (3/264)        
remote: Counting objects:   2% (6/264)        
remote: Counting objects:   3% (8/264)        
remote: Counting objects:   4% (11/264)        
remote: Counting objects:   5% (14/264)        
remote: Counting objects:   6% (16/264)        
remote: Counting objects:   7% (19/264)        
remote: Counting objects:   8% (22/264)        
remote: Counting objects:   9% (24/264)        
remote: Counting objects:  10% (27/264)        
remote: Counting objects:  11% (30/264)        
remote: Counting objects:  12% (32/264)        
remote: Counting objects:  13% (35/264)        
remote: Counting objects:  14% (37/264)        
remote: Counting objects:  15% (40/264)        
remote: Counting objects:  16% (43/264)        
remote: Counting objects:  17% (45/264)        
remote: Counting objects:  18% (48/264)        
remote: Counting objects:  19% (51/264)        
remote: Counting objects:  20% (53/264)        
remote: Counting objects:  21% (56/264)        
remote: Counting objects:  22% (59/264)        
remote: Counting objects:  23% (61/264)        
remote: Counting objects:  24% (64/264)        
remote: Counting objects:  25% (66/264)        
remote: Counting objects:  26% (69/264)        
remote: Counting objects:  27% (72/264)        
remote: Counting objects:  28% (74/264)        
remote: Counting objects:  29% (77/264)        
remote: Counting objects:  30% (80/264)        
remote: Counting objects:  31% (82/264)        
remote: Counting objects:  32% (85/264)        
remote: Counting objects:  33% (88/264)        
remote: Counting objects:  34% (90/264)        
remote: Counting objects:  35% (93/264)        
remote: Counting objects:  36% (96/264)        
remote: Counting objects:  37% (98/264)        
remote: Counting objects:  38% (101/264)        
remote: Counting objects:  39% (103/264)        
remote: Counting objects:  40% (106/264)        
remote: Counting objects:  41% (109/264)        
remote: Counting objects:  42% (111/264)        
remote: Counting objects:  43% (114/264)        
remote: Counting objects:  44% (117/264)        
remote: Counting objects:  45% (119/264)        
remote: Counting objects:  46% (122/264)        
remote: Counting objects:  47% (125/264)        
remote: Counting objects:  48% (127/264)        
remote: Counting objects:  49% (130/264)        
remote: Counting objects:  50% (132/264)        
remote: Counting objects:  51% (135/264)        
remote: Counting objects:  52% (138/264)        
remote: Counting objects:  53% (140/264)        
remote: Counting objects:  54% (143/264)        
remote: Counting objects:  55% (146/264)        
remote: Counting objects:  56% (148/264)        
remote: Counting objects:  57% (151/264)        
remote: Counting objects:  58% (154/264)        
remote: Counting objects:  59% (156/264)        
remote: Counting objects:  60% (159/264)        
remote: Counting objects:  61% (162/264)        
remote: Counting objects:  62% (164/264)        
remote: Counting objects:  63% (167/264)        
remote: Counting objects:  64% (169/264)        
remote: Counting objects:  65% (172/264)        
remote: Counting objects:  66% (175/264)        
remote: Counting objects:  67% (177/264)        
remote: Counting objects:  68% (180/264)        
remote: Counting objects:  69% (183/264)        
remote: Counting objects:  70% (185/264)        
remote: Counting objects:  71% (188/264)        
remote: Counting objects:  72% (191/264)        
remote: Counting objects:  73% (193/264)        
remote: Counting objects:  74% (196/264)        
remote: Counting objects:  75% (198/264)        
remote: Counting objects:  76% (201/264)        
remote: Counting objects:  77% (204/264)        
remote: Counting objects:  78% (206/264)        
remote: Counting objects:  79% (209/264)        
remote: Counting objects:  80% (212/264)        
remote: Counting objects:  81% (214/264)        
remote: Counting objects:  82% (217/264)        
remote: Counting objects:  83% (220/264)        
remote: Counting objects:  84% (222/264)        
remote: Counting objects:  85% (225/264)        
remote: Counting objects:  86% (228/264)        
remote: Counting objects:  87% (230/264)        
remote: Counting objects:  88% (233/264)        
remote: Counting objects:  89% (235/264)        
remote: Counting objects:  90% (238/264)        
remote: Counting objects:  91% (241/264)        
remote: Counting objects:  92% (243/264)        
remote: Counting objects:  93% (246/264)        
remote: Counting objects:  94% (249/264)        
remote: Counting objects:  95% (251/264)        
remote: Counting objects:  96% (254/264)        
remote: Counting objects:  97% (257/264)        
remote: Counting objects:  98% (259/264)        
remote: Counting objects:  99% (262/264)        
remote: Counting objects: 100% (264/264)        
remote: Counting objects: 100% (264/264), done.
remote: Compressing objects:   0% (1/193)        
remote: Compressing objects:   1% (2/193)        
remote: Compressing objects:   2% (4/193)        
remote: Compressing objects:   3% (6/193)        
remote: Compressing objects:   4% (8/193)        
remote: Compressing objects:   5% (10/193)        
remote: Compressing objects:   6% (12/193)        
remote: Compressing objects:   7% (14/193)        
remote: Compressing objects:   8% (16/193)        
remote: Compressing objects:   9% (18/193)        
remote: Compressing objects:  10% (20/193)        
remote: Compressing objects:  11% (22/193)        
remote: Compressing objects:  12% (24/193)        
remote: Compressing objects:  13% (26/193)        
remote: Compressing objects:  14% (28/193)        
remote: Compressing objects:  15% (29/193)        
remote: Compressing objects:  16% (31/193)        
remote: Compressing objects:  17% (33/193)        
remote: Compressing objects:  18% (35/193)        
remote: Compressing objects:  19% (37/193)        
remote: Compressing objects:  20% (39/193)        
remote: Compressing objects:  21% (41/193)        
remote: Compressing objects:  22% (43/193)        
remote: Compressing objects:  23% (45/193)        
remote: Compressing objects:  24% (47/193)        
remote: Compressing objects:  25% (49/193)        
remote: Compressing objects:  26% (51/193)        
remote: Compressing objects:  27% (53/193)        
remote: Compressing objects:  28% (55/193)        
remote: Compressing objects:  29% (56/193)        
remote: Compressing objects:  30% (58/193)        
remote: Compressing objects:  31% (60/193)        
remote: Compressing objects:  32% (62/193)        
remote: Compressing objects:  33% (64/193)        
remote: Compressing objects:  34% (66/193)        
remote: Compressing objects:  35% (68/193)        
remote: Compressing objects:  36% (70/193)        
remote: Compressing objects:  37% (72/193)        
remote: Compressing objects:  38% (74/193)        
remote: Compressing objects:  39% (76/193)        
remote: Compressing objects:  40% (78/193)        
remote: Compressing objects:  41% (80/193)        
remote: Compressing objects:  42% (82/193)        
remote: Compressing objects:  43% (83/193)        
remote: Compressing objects:  44% (85/193)        
remote: Compressing objects:  45% (87/193)        
remote: Compressing objects:  46% (89/193)        
remote: Compressing objects:  47% (91/193)        
remote: Compressing objects:  48% (93/193)        
remote: Compressing objects:  49% (95/193)        
remote: Compressing objects:  50% (97/193)        
remote: Compressing objects:  51% (99/193)        
remote: Compressing objects:  52% (101/193)        
remote: Compressing objects:  53% (103/193)        
remote: Compressing objects:  54% (105/193)        
remote: Compressing objects:  55% (107/193)        
remote: Compressing objects:  56% (109/193)        
remote: Compressing objects:  57% (111/193)        
remote: Compressing objects:  58% (112/193)        
remote: Compressing objects:  59% (114/193)        
remote: Compressing objects:  60% (116/193)        
remote: Compressing objects:  61% (118/193)        
remote: Compressing objects:  62% (120/193)        
remote: Compressing objects:  63% (122/193)        
remote: Compressing objects:  64% (124/193)        
remote: Compressing objects:  65% (126/193)        
remote: Compressing objects:  66% (128/193)        
remote: Compressing objects:  67% (130/193)        
remote: Compressing objects:  68% (132/193)        
remote: Compressing objects:  69% (134/193)        
remote: Compressing objects:  70% (136/193)        
remote: Compressing objects:  71% (138/193)        
remote: Compressing objects:  72% (139/193)        
remote: Compressing objects:  73% (141/193)        
remote: Compressing objects:  74% (143/193)        
remote: Compressing objects:  75% (145/193)        
remote: Compressing objects:  76% (147/193)        
remote: Compressing objects:  77% (149/193)        
remote: Compressing objects:  78% (151/193)        
remote: Compressing objects:  79% (153/193)        
remote: Compressing objects:  80% (155/193)        
remote: Compressing objects:  81% (157/193)        
remote: Compressing objects:  82% (159/193)        
remote: Compressing objects:  83% (161/193)        
remote: Compressing objects:  84% (163/193)        
remote: Compressing objects:  85% (165/193)        
remote: Compressing objects:  86% (166/193)        
remote: Compressing objects:  87% (168/193)        
remote: Compressing objects:  88% (170/193)        
remote: Compressing objects:  89% (172/193)        
remote: Compressing objects:  90% (174/193)        
remote: Compressing objects:  91% (176/193)        
remote: Compressing objects:  92% (178/193)        
remote: Compressing objects:  93% (180/193)        
remote: Compressing objects:  94% (182/193)        
remote: Compressing objects:  95% (184/193)        
remote: Compressing objects:  96% (186/193)        
remote: Compressing objects:  97% (188/193)        
remote: Compressing objects:  98% (190/193)        
remote: Compressing objects:  99% (192/193)        
remote: Compressing objects: 100% (193/193)        
remote: Compressing objects: 100% (193/193), done.
Receiving objects:   0% (1/264)
Receiving objects:   1% (3/264)
Receiving objects:   2% (6/264)
Receiving objects:   3% (8/264)
Receiving objects:   4% (11/264)
Receiving objects:   5% (14/264)
Receiving objects:   6% (16/264)
Receiving objects:   7% (19/264)
Receiving objects:   8% (22/264)
Receiving objects:   9% (24/264)
Receiving objects:  10% (27/264)
Receiving objects:  11% (30/264)
Receiving objects:  12% (32/264)
Receiving objects:  13% (35/264)
Receiving objects:  14% (37/264)
Receiving objects:  15% (40/264)
Receiving objects:  16% (43/264)
Receiving objects:  17% (45/264)
Receiving objects:  18% (48/264)
Receiving objects:  19% (51/264)
Receiving objects:  20% (53/264)
Receiving objects:  21% (56/264)
Receiving objects:  22% (59/264)
Receiving objects:  23% (61/264)
Receiving objects:  24% (64/264)
Receiving objects:  25% (66/264)
Receiving objects:  26% (69/264)
Receiving objects:  27% (72/264)
Receiving objects:  28% (74/264)
Receiving objects:  29% (77/264)
Receiving objects:  30% (80/264)
Receiving objects:  31% (82/264)
Receiving objects:  32% (85/264)
Receiving objects:  33% (88/264)
Receiving objects:  34% (90/264)
Receiving objects:  35% (93/264)
Receiving objects:  36% (96/264)
Receiving objects:  37% (98/264)
Receiving objects:  38% (101/264)
Receiving objects:  39% (103/264)
Receiving objects:  40% (106/264)
Receiving objects:  41% (109/264)
Receiving objects:  42% (111/264)
Receiving objects:  43% (114/264)
Receiving objects:  44% (117/264)
Receiving objects:  45% (119/264)
Receiving objects:  46% (122/264)
Receiving objects:  47% (125/264)
Receiving objects:  48% (127/264)
Receiving objects:  49% (130/264)
Receiving objects:  50% (132/264)
Receiving objects:  51% (135/264)
Receiving objects:  52% (138/264)
Receiving objects:  53% (140/264)
Receiving objects:  54% (143/264)
Receiving objects:  55% (146/264)
Receiving objects:  56% (148/264)
Receiving objects:  57% (151/264)
Receiving objects:  58% (154/264)
Receiving objects:  59% (156/264)
Receiving objects:  60% (159/264)
Receiving objects:  61% (162/264)
Receiving objects:  62% (164/264)
Receiving objects:  63% (167/264)
Receiving objects:  64% (169/264)
Receiving objects:  65% (172/264)
Receiving objects:  66% (175/264)
Receiving objects:  67% (177/264)
Receiving objects:  68% (180/264)
Receiving objects:  69% (183/264)
Receiving objects:  70% (185/264)
Receiving objects:  71% (188/264)
Receiving objects:  72% (191/264)
Receiving objects:  73% (193/264)
Receiving objects:  74% (196/264)
Receiving objects:  75% (198/264)
Receiving objects:  76% (201/264)
Receiving objects:  77% (204/264)
Receiving objects:  78% (206/264)
Receiving objects:  79% (209/264)
Receiving objects:  80% (212/264)
Receiving objects:  81% (214/264)
Receiving objects:  82% (217/264)
Receiving objects:  83% (220/264)
Receiving objects:  84% (222/264)
Receiving objects:  85% (225/264)
Receiving objects:  86% (228/264)
Receiving objects:  87% (230/264)
Receiving objects:  88% (233/264)
Receiving objects:  89% (235/264)
Receiving objects:  90% (238/264)
remote: Total 264 (delta 51), reused 191 (delta 16), pack-reused 0 (from 0)
Receiving objects:  91% (241/264)
Receiving objects:  92% (243/264)
Receiving objects:  93% (246/264)
Receiving objects:  94% (249/264)
Receiving objects:  95% (251/264)
Receiving objects:  96% (254/264)
Receiving objects:  97% (257/264)
Receiving objects:  98% (259/264)
Receiving objects:  99% (262/264)
Receiving objects: 100% (264/264)
Receiving objects: 100% (264/264), 1.15 MiB | 11.90 MiB/s, done.
Resolving deltas:   0% (0/51)
Resolving deltas:   1% (1/51)
Resolving deltas:   3% (2/51)
Resolving deltas:   5% (3/51)
Resolving deltas:   7% (4/51)
Resolving deltas:   9% (5/51)
Resolving deltas:  11% (6/51)
Resolving deltas:  13% (7/51)
Resolving deltas:  15% (8/51)
Resolving deltas:  17% (9/51)
Resolving deltas:  19% (10/51)
Resolving deltas:  21% (11/51)
Resolving deltas:  23% (12/51)
Resolving deltas:  25% (13/51)
Resolving deltas:  27% (14/51)
Resolving deltas:  29% (15/51)
Resolving deltas:  31% (16/51)
Resolving deltas:  33% (17/51)
Resolving deltas:  35% (18/51)
Resolving deltas:  37% (19/51)
Resolving deltas:  39% (20/51)
Resolving deltas:  41% (21/51)
Resolving deltas:  43% (22/51)
Resolving deltas:  45% (23/51)
Resolving deltas:  47% (24/51)
Resolving deltas:  50% (26/51)
Resolving deltas:  52% (27/51)
Resolving deltas:  54% (28/51)
Resolving deltas:  56% (29/51)
Resolving deltas:  58% (30/51)
Resolving deltas:  60% (31/51)
Resolving deltas:  62% (32/51)
Resolving deltas:  64% (33/51)
Resolving deltas:  66% (34/51)
Resolving deltas:  68% (35/51)
Resolving deltas:  70% (36/51)
Resolving deltas:  72% (37/51)
Resolving deltas:  74% (38/51)
Resolving deltas:  76% (39/51)
Resolving deltas:  78% (40/51)
Resolving deltas:  80% (41/51)
Resolving deltas:  82% (42/51)
Resolving deltas:  84% (43/51)
Resolving deltas:  86% (44/51)
Resolving deltas:  88% (45/51)
Resolving deltas:  90% (46/51)
Resolving deltas:  92% (47/51)
Resolving deltas:  94% (48/51)
Resolving deltas:  98% (50/51)
Resolving deltas: 100% (51/51)
Resolving deltas: 100% (51/51), done.
Building techliferepair-repairapp-5z3xud
#0 building with "default" instance using docker driver
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 2.14kB done
#1 DONE 0.0s
#2 [internal] load metadata for docker.io/library/node:20-slim
#2 DONE 0.7s
#3 [internal] load .dockerignore
#3 transferring context: 451B done
#3 DONE 0.0s
#4 [builder  1/11] FROM docker.io/library/node:20-slim@sha256:1b38aaddff63cd0d3a9b5b03863a71fd33ee62047dd2e915f494d96b4b9c18cc
#4 DONE 0.0s
#5 [internal] load build context
#5 transferring context: 2.47MB 0.1s done
#5 DONE 0.1s
#6 [builder  7/11] RUN npm install --legacy-peer-deps
#6 CACHED
#7 [builder  2/11] WORKDIR /app
#7 CACHED
#8 [builder  4/11] COPY package*.json ./
#8 CACHED
#9 [builder  8/11] RUN npm install lightningcss-linux-x64-gnu --save-optional || true
#9 CACHED
#10 [builder  5/11] COPY prisma ./prisma/
#10 CACHED
#11 [builder  6/11] RUN rm -f package-lock.json
#11 CACHED
#12 [builder  3/11] RUN apt-get update && apt-get install -y     openssl     python3     make     g++     && rm -rf /var/lib/apt/lists/*
#12 CACHED
#13 [builder  9/11] RUN npx prisma generate
#13 CACHED
#14 [builder 10/11] COPY . .
#14 DONE 0.2s
#15 [builder 11/11] RUN npm run build
#15 0.509
#15 0.509 > repairappv2@0.1.0 build
#15 0.509 > next build
#15 0.509
#15 1.532 ‚ñ≤ Next.js 16.1.0 (Turbopack)
#15 1.532 - Experiments (use with caution):
#15 1.532   ¬∑ serverActions
#15 1.532
#15 1.538 ‚ö† The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
#15 1.617   Creating an optimized production build ...
#15 26.77
#15 26.77 > Build error occurred
#15 26.77 Error: Turbopack build failed with 1 errors:
#15 26.77 ./src/lib/offline/index.ts:6:1
#15 26.77 Module not found: Can't resolve './sync-manager'
#15 26.77 [0m [90m 4 |[39m [36mexport[39m { offlineDB[33m,[39m [33mSTORES[39m } [36mfrom[39m [32m'./indexed-db'[39m[33m;[39m
#15 26.77  [90m 5 |[39m [36mexport[39m type { [33mSyncQueueItem[39m[33m,[39m [33mCachedData[39m } [36mfrom[39m [32m'./indexed-db'[39m[33m;[39m
#15 26.77 [31m[1m>[22m[39m[90m 6 |[39m [36mexport[39m { syncManager } [36mfrom[39m [32m'./sync-manager'[39m[33m;[39m
#15 26.77  [90m   |[39m [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m
#15 26.77  [90m 7 |[39m[0m
#15 26.77
#15 26.77
#15 26.77
#15 26.77 Import traces:
#15 26.77   #1 [Client Component Browser]:
#15 26.77     ./src/lib/offline/index.ts [Client Component Browser]
#15 26.77     ./src/hooks/use-offline.ts [Client Component Browser]
#15 26.77     ./src/hooks/index.ts [Client Component Browser]
#15 26.77     ./src/app/(dashboard)/layout.tsx [Client Component Browser]
#15 26.77     ./src/app/(dashboard)/layout.tsx [Server Component]
#15 26.77
#15 26.77   #2 [Client Component Browser]:
#15 26.77     ./src/lib/offline/index.ts [Client Component Browser]
#15 26.77     ./src/hooks/use-offline.ts [Client Component Browser]
#15 26.77     ./src/hooks/index.ts [Client Component Browser]
#15 26.77     ./src/app/(dashboard)/ordenes/[id]/page.tsx [Client Component Browser]
#15 26.77     ./src/app/(dashboard)/ordenes/[id]/page.tsx [Server Component]
#15 26.77
#15 26.77   #3 [Client Component SSR]:
#15 26.77     ./src/lib/offline/index.ts [Client Component SSR]
#15 26.77     ./src/hooks/use-offline.ts [Client Component SSR]
#15 26.77     ./src/hooks/index.ts [Client Component SSR]
#15 26.77     ./src/app/(dashboard)/layout.tsx [Client Component SSR]
#15 26.77     ./src/app/(dashboard)/layout.tsx [Server Component]
#15 26.77
#15 26.77   #4 [Client Component SSR]:
#15 26.77     ./src/lib/offline/index.ts [Client Component SSR]
#15 26.77     ./src/hooks/use-offline.ts [Client Component SSR]
#15 26.77     ./src/hooks/index.ts [Client Component SSR]
#15 26.77     ./src/app/(dashboard)/ordenes/[id]/page.tsx [Client Component SSR]
#15 26.77     ./src/app/(dashboard)/ordenes/[id]/page.tsx [Server Component]
#15 26.77
#15 26.77 https://nextjs.org/docs/messages/module-not-found
#15 26.77
#15 26.77
#15 26.77     at <unknown> (./src/lib/offline/index.ts:6:1)
#15 26.77     at <unknown> (https://nextjs.org/docs/messages/module-not-found)
#15 ERROR: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
------
> [builder 11/11] RUN npm run build:
26.77     ./src/hooks/use-offline.ts [Client Component SSR]
26.77     ./src/hooks/index.ts [Client Component SSR]
26.77     ./src/app/(dashboard)/ordenes/[id]/page.tsx [Client Component SSR]
26.77     ./src/app/(dashboard)/ordenes/[id]/page.tsx [Server Component]
26.77
26.77 https://nextjs.org/docs/messages/module-not-found
26.77
26.77
26.77     at <unknown> (./src/lib/offline/index.ts:6:1)
26.77     at <unknown> (https://nextjs.org/docs/messages/module-not-found)
------
[33m2 warnings found (use docker --debug to expand):
[0m - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "NEXTAUTH_SECRET") (line 12)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "NEXTAUTH_SECRET") (line 18)
Dockerfile:51
--------------------
|
|     # Build the Next.js app
| >>> RUN npm run build
|
|     # ---- Production stage ----
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
‚ùå Docker build failed
Error occurred ‚ùå, check the logs for details.